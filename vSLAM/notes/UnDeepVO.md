# UnDeepVO : 一个非监督深度学习的VO

## 摘要

这篇文章提出了基于非监督深度学习的VO,一个会议短文,主要思想是利用非监督深度学习做VO的6自由度姿态估计和深度估计.有两个明显的特征:
1. 使用非监督深度学习框架
2. 从单目图像中恢复出绝对深度

这说是非监督学习,但是实际上在训练过程中使用了自编码神经网络和带有深度信息的立体数据(双目).

文章目的是解决VO问题, 首先介绍了以往的基于DL的VO,然后提出了以往算法存在的最大的问题:需要GroundTruth, 标注数据很难找到,所以,这里使用了基于非监督的方法,不用标注数据.

文章还提到了,以前也有用非监督的方法,这篇文章算是对多种方法的总结和改进.整体的方法结构如下图所示.

![]()

## 系统构成

整个VO系统分为两部分:
1. 深度估计
2. 6自由度姿态估计

### 1. 6自由度姿态估计
是给予VGG19,分别估计旋转和平移.这里的旋转是使用欧拉角表示, 由于欧拉角的非线性, 所以在训练过程中优化比较困难(相对于平移向量), 在有监督学习中,解决问题是,给旋转向量的损失函数中增大权重,在这里的非监督学习, 把平移和旋转分隔开,但是都是在VGG的最后一个卷积层之上,分别进行损失处理.

### 2. 深度估计
是利用自编码网络的方式, 这个网络的输入是正常的连续图像,输出是深度图, 直接训练出深度信息.


从整体上看,训练时,网络输入是立体图像(双目),输出是左右图像的6自由度姿态和深度.网络结构图下图所示

![]()

实现这样的非监督深度学习的特点是: 利用了空间约束和时间约束,分别是左右眼图像和连续帧图像.网络训练模式如下图所示

![]()

## 目标函数
空间约束驱动网络恢复图像的深度信息(左右眼图像), 时间约束用来驱动目标的姿态运动(连续帧图像)

### A 基于左右眼的空间约束损失函数
利用的是左右眼图像的一致性,包括:
1. 光度一致性(photometric consistency)
2. 差异一致性(disparity consistency)
3. 姿态一致性(pose consistency)

这三者的具体损失函数,参照原论文吧,写起来太麻烦.

### B 时间约束
基于连续帧之间的时间约束.包括:
1. 光度一致性约束
2. 3D几何配准约束,主要依赖的是ICP方法.

## 实验
在KITTI数据集上进行的实验, 训练部分是在TensorFlow,使用P100训练的,测试实在笔记本上使用GTX980M上. 优化的方法是使用的Adam算法.

## 总结
这篇文章虽然是非监督的深度学习,但是训练阶段的数据是基于双目的数据,隐含这包含的标签,测试的时候,只使用单目数据.另外,作者有意向,将VO扩展到SLAM系统,降低SALM定位时的漂移,提高精度.
