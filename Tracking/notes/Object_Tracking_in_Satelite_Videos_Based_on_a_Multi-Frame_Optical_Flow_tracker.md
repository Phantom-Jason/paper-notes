# Object Tracking in Satellite Videos Based on a Multi-Frame Optical Flow Tracker

## 摘要
- 针对超高分辨率遥感图像
- 超高分辨率遥感图像或者视频中，目标尺寸相对于图像的整体尺寸太小
- 目标与背景相似度很高
- 传统的跟踪方法精度不能满足
- 光流法在目标运动缓慢时具有很大的潜力
- 使用LK光流与HSV颜色空间融合，还有积分图实现目标跟踪
- 对于特别缓慢运动的目标，使用多帧差分提高跟踪性能

## 简介
1. 现有的跟踪方法:
- 基于判别式模型的跟踪方法，特别是基于颜色特征
- 基于相关滤波的方法，兼顾效率与精度
- 就深度神经网络（CNN）的跟踪

2. 超高清分辨率图像：
- 商业卫星技术的应用
- 地面物体运动分析，可疑物体监控等

3. 卫星遥感图像或视频的跟踪难点：
- 图像很大（全场景检索不可行）
- 目标很小
- 目标特征少（不容易区分，与背景相似度高）
- 光照变化剧烈

4. 上面的问题对于传统的跟踪方法几乎都是难点，光流获取时间轴的信息
- 空间域的信息少
- 光流可以获取时间轴上的信息
- 多帧间差分也能获取提供目标更多的信息
- 这篇文章提供了基于光流的目标跟踪

## 方法
1. 总体过程：
- 输入两张图像，计算光流场
- 在光流场上应用HSV颜色空间变换，将二维的光流场转成三维RGB图像
- 应用矩形积分盒子，在RGB图像上获取一个积分矩阵
- 寻找积分矩阵的最小值，寻找与目标中心点的相对距离
- 实现目标定位，或者跟踪的Bounding Box

2. 光流
- LK光流估计出场景中亮目标的运动
- 根据光流约束，使用Least-Square minimize方法优化，计算出光流场
- 光流场与图像大小一样，每个位置的值表示对应像素的运动速度
- 每个像素的运动方向不同，不能直接用光流场分析跟踪

3. HSV颜色空间
- RGB是三原色，不适用于表示二维的光流场
- HSV颜色空间：hue色调，saturation饱和度，value值
- HSV颜色空间可以表示成一个圆柱体，hue表示方位，saturation表示与圆柱体中心的径向距离，value表示hue相对于black的距离
- 采用 Zimmer提出，Baker实现的转换方法

4. 积分图
- 积分图能够少量的操作计算每个像素点的积分值
- 位移越大，速度越大，计算的RGB图的值越大
- 积分结果越小，这个区域越接近目标
- 目标移动缓慢，搜索区域在目标Bound Box 扩展R的区域，R是搜索半径

5. 多帧差分
- 目标运动缓慢，光流场不明显
- 使用多帧差分，取代相邻帧之间的光流场
- 帧间差距太大，计算的光流太多，造成误检测概率高

6. 算法总结
- 计算第k帧和第k+1帧之间的光流场
- 应用HSV空间变换，把光流场转换成RGB图
- 计算RGB图的区域积分图
- 寻找光流场的最小值，这个最小值作为中心点的矩形框是跟踪结果


## 实验
实验数据是一家公司提供的，没有公开，没有办法重现结果。

## 结论
这篇文章是利用光流法进行大图像弱小目标的跟踪，思路比较简单：
针对弱小目标特征不明显问题：
- 用光流法增加时间域的信息
- 用多帧差分弥补运动较小的时候光流场不明显的问题
- 用积分图作为目标特征
- 假设目标不会剧烈运动
- 假设目标尺度不会变化

**问题：**
1. 特征太单一，容易发生丢失
2. 没有考虑目标尺度发生变化，特别是目标尺度发生若干倍的膨胀或缩小
3. 应用场景只适用于目标运动缓慢的地方，比如遥感图像，距离很远，目标运动都很慢